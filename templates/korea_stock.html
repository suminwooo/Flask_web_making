{% extends 'base.html' %}

{% block main %}
  <h1> KOREA PAGE </h1>
  <div class="korea_us_container">

    <div class="korea_us_container1">
      <h3> 시장 정보 </h3>
      <div class="basic_box">
        <p>
          코스피 : {{main_page_value['kospi_close']}},
          코스닥 : {{main_page_value['kosdaq_close']}},
          나스닥100 : {{main_page_value['nasdaq100_close']}},
          나스닥 : {{main_page_value['nasdaq_close']}}
        </p>
        <p>
          개미현황 : {{main_page_value['kospi_individual']}},
          외국인 투자자 : {{main_page_value['kospi_foreigner']}},
          기관 투자자 : {{main_page_value['kospi_Institutional']}}
        </p>
      </div>
    </div>

    <div class="korea_us_container2">
      <h3>날짜 시간 설정</h3>
      <div class="basic_box">
        {{current_time}}
      </div>
    </div>

    <div class="korea_us_container3">
    <h3>TOP 변동성</h3>
      <div class="tab tab1">
        <a href="#volatily_total" class="tablinks">변동성 순위</a>
        <a href="#volatily_up" class="tablinks">상승 순위</a>
        <a href="#volatily_down" class="tablinks">하락 순위</a>
        <a href="#volume" class="tablinks">거래량 순위</a>
      </div>

      <div id="volatily_total" class="tabcontent">
        <table>
          <tr>
            <th>종목 코드</th>
            <th>종명 명</th>
            <th>거래량</th>
          </tr>
          {% for detail in change_data[0].values() %}
          <tr>
            <td>{{ detail['code'] }}</td>
            <td>{{ detail['name'] }}</td>
            <td>{{ detail['rate'] }}</td>
          </tr>
          {% endfor %}
        </table>
      </div>

      <div id="volatily_up" class="tabcontent">
        <h3>상승 비율 순위</h3>
        <table>
          <tr>
            <th>종목 코드</th>
            <th>종명 명</th>
            <th>거래량</th>
          </tr>
          {% for detail in change_data[1].values() %}
          <tr>
            <td>{{ detail['code'] }}</td>
            <td>{{ detail['name'] }}</td>
            <td>{{ detail['rate'] }}</td>
          </tr>
          {% endfor %}
        </table>
      </div>

      <div id="volatily_down" class="tabcontent">
        <h3>하락 비율 순위</h3>
        <table>
          <tr>
            <th>종목 코드</th>
            <th>종명 명</th>
            <th>거래량</th>
          </tr>
          {% for detail in change_data[2].values() %}
          <tr>
            <td>{{ detail['code'] }}</td>
            <td>{{ detail['name'] }}</td>
            <td>{{ detail['rate'] }}</td>
          </tr>
          {% endfor %}
        </table>      </div>

      <div id="volume" class="tabcontent">
        <h3>거래량 순위</h3>
        <table>
          <tr>
            <th>종목 코드</th>
            <th>종명 명</th>
            <th>거래량</th>
          </tr>
          {% for detail in volume_data.values() %}
          <tr>
            <td>{{ detail['code'] }}</td>
            <td>{{ detail['name'] }}</td>
            <td>{{ detail['volume'] }}</td>
          </tr>
          {% endfor %}
        </table>
      </div>
    </div>

    <div class="korea_us_container4">
      <h3>시가 총액</h3>
      <p>우선주는 표시 되지 않음</p>
      <table>
        <tr>
          <th>코스피 랭킹</th>
          <th>종목 코드</th>
          <th>종명 명</th>
          <th>시가 총액</th>
        </tr>
          {% for detail in rank_data.values() %}
          <tr>
            <td>{{ detail['rank'] }}</td>
            <td>{{ detail['code'] }}</td>
            <td>{{ detail['name'] }}</td>
            <td>{{ detail['capital'] }}</td>
          </tr>
          {% endfor %}
      </table>
    </div>

    <div class="korea_us_container5">
    <h3>저평가 목록</h3>
        <table>
      <thead>
      <tr>
      <th>NO.</th><th>코드</th><th>현재가</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      </tbody>
      </table>
    </div>

    <div class="korea_us_container6">
      <h3>추천 목록</h3>
        <table>
      <thead>
      <tr>
      <th>NO.</th><th>코드</th><th>현재가</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      <tr>
      <td>-</td><td>-</td><td>-</td>
      </tr>
      </tbody>
      </table>
    </div>

    <div class="korea_us_container7">
      <h3>보유중</h3>
      <table>
        <thead>
          <tr>
           <th>Lorem</th><th>Ipsum</th><th>Dolor</th>
          </tr>
        </thead>
        <tbody>
          <tr>
           <td>Lorem</td><td>Ipsum</td><td>Dolor</td>
          </tr>
          <tr>
           <td>Lorem</td><td>Ipsum</td><td>Dolor</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="korea_us_container8">
      <h3>관심종목</h3>
      <table>
        <thead>
          <tr>
           <th>Lorem</th><th>Ipsum</th><th>Dolor</th>
          </tr>
        </thead>
        <tbody>
          <tr>
           <td>Lorem</td><td>Ipsum</td><td>Dolor</td>
          </tr>
          <tr>
           <td>Lorem</td><td>Ipsum</td><td>Dolor</td>
          </tr>
        </tbody>
      </table>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js"></script>
    <script>
        function tabContent(event){
            event.preventDefault();
            $(this).parent().find('a').removeClass('active');
            $(this).addClass('active');
            $(this).parent().parent().find('.tabcontent').hide();
            $($(this).attr('href')).show();
        }

        $('.tab1 a').on('click', tabContent);


        $('.tab1 a:first').trigger('click');

    </script>
  </div>
{% endblock %}

